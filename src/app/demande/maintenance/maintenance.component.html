<app-demandenav></app-demandenav>
<div class="page-content container note-has-grid">
    <ul class="nav nav-pills p-3 bg-white mb-3 rounded align-items-center">
        
        <div class="table-title">
            <div class="row">
                <div class="col-sm-10 mb-3"
                    style="  width: 450px;
                    margin: auto;
                    padding: 10px;
                    margin-left:195%;">

                    <a (click)="openDialog()" class="btn btn-success" data-toggle="modal"
                    style="  width: 72%;
                    float: left;">
                        <i class="material-icons">&#xE147;</i> <span style="margin-left: 5px;">Ajouter une Demande</span>
                    </a>
                </div>
            </div>
        </div>
        </ul></div>

        <mat-card-header>
        </mat-card-header>
        <mat-card-content>
        
        <div class="page-content container note-has-grid">
            <ul class="nav nav-pills p-3 bg-white mb-3 rounded align-items-center">

                    
        <table class="table table-hover table-striped" id="tblMain" style=" width: 100%;">
            <thead>
            <tr>
                <th>id</th>
                <th style="width: 20%;padding-left: 25px;">Objet</th>
                <th style="width: 20%;">Planifier</th>
                <th style="width: 20%;">Domaine</th>
                <th style="width: 20%;">Date</th>
                <th style="width: 20%;">Prioriter</th>
                <th style="width: 20%;">Update</th>
                <th style="width: 20%;">Delete</th>

                <th>Plus</th>
                </tr>
            </thead>
            <tbody>
            <tr>
                <td ng-repeat="x in id" ng-click="getValueOfTD(x)">id</td>
                <td style="width: 20%;padding-left: 25px;">Modification routage</td>
                <td style="width: 20%;"> Oui</td>
                <td style="width: 20%;">digital</td>
                <td style="width: 20%;">18/05/23</td>
                <td style="width: 20%;">Brulante</td>
        
                    <td> 
                      
                        <button class="butbu" id="butbu" mat-raised-button style="background-color: grey;">
                            <div class="visituser" routerLink="/deminfo" routerLinkActive="active">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 448 512">
                                    <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) -->
                                    <path d="M48 32h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48zm140.485 355.515l123.029-123.029c4.686-4.686 4.686-12.284 0-16.971l-123.029-123.03c-7.56-7.56-20.485-2.206-20.485 8.485v246.059c0 10.691 12.926 16.045 20.485 8.486z"/>
                                </svg>
                            </div>    
                            </button>               
                    </td>
        
                </tr>
                <tr *ngFor="let d of demandes">
                    
                    <td style="width: 20%;padding-left: 25px;">{{d.id}}</td>
                    <td style="width: 20%;">{{d.objetDemande}}</td>
                    <td style="width: 20%;">{{d.planifie}}</td>
                    <td style="width: 20%;">{{d.dommaine}}</td>
                    <td style="width: 20%;">{{d.contexte}}</td>
                    <td style="width: 20%;">{{d.priorite.valeurPriorite}}</td>
                    <td><button (click)="openUpdateDialog(d)" class="update-button">Update</button></td>
                    <td><button (click)="deleteDemande(d.id)" class="delete-button">Delete</button></td>


                    <td> 
                      
                        <button class="butbu" id="butbu" mat-raised-button style="background-color: grey;">
                            <div class="visituser" routerLink="/deminfo" routerLinkActive="active">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 448 512">
                                    <!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) -->
                                    <path d="M48 32h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48zm140.485 355.515l123.029-123.029c4.686-4.686 4.686-12.284 0-16.971l-123.029-123.03c-7.56-7.56-20.485-2.206-20.485 8.485v246.059c0 10.691 12.926 16.045 20.485 8.486z"/>
                                </svg>
                            </div>    
                            </button>               
                    </td>
                </tr>
                       
            </tbody>
        </table>
        </ul>
        </div>
        </mat-card-content>